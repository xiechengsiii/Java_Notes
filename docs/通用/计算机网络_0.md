##### 因特网的组成

<img src="E:\Typora\imgs\image-20200623103541077.png" alt="image-20200623103541077" style="zoom:67%;" />

边缘部分一般就指计算机，服务器；核心部分一般指那些网络互连设备

<img src="E:\Typora\imgs\image-20200623103710481.png" alt="image-20200623103710481" style="zoom: 67%;" />

##### 计算机网络的性能

- **速率**  连接在网络上的主机在数字信道传输数据位数（bit）的速率

  b/s, Mb/s , kb/s, Gb/s

  A →----------------------------------→B   一个信道

  ![image-20200715193905550](E:\Typora\imgs\image-20200715193905550.png)

  注意速率是小写， 存储容量是大写，并且换算不同

- **带宽**  计算机网络中，带宽表示接口所能传输数据的能力，  单位为b/s  kb/s  Mb/s Gb/s；通常指单位时间内从网络中的一点到另一点所能通过的最高速率。也就是网络设备的所支持的最高速度。

- **吞吐量** 单位时间通过网络的数据量（所有信道流量加在一块）

- **时延**   

  指数据从网络一端传送到另一端所需的时间
  
  ![image-20200715200852344](E:\Typora\imgs\image-20200715200852344.png)
  
  
  
- **时延带宽积**![image-20200715201118189](E:\Typora\imgs\image-20200715201118189.png)

- **往返时间（RTT）** 从发送方发送数据到发送方收到接受确认的时间   ping - www.baidu.com  可以看

  ![image-20200715201331061](E:\Typora\imgs\image-20200715201331061.png)

  

- **利用率**

<img src="E:\Typora\imgs\image-20200623104624623.png" alt="image-20200623104624623" style="zoom: 50%;" />  

  

##### 计算机网络的体系结构

​	OSI参考模型

- 应用层

  能够产生网络流量并能够与用户交互的应用程序

- 表示层

  传输数据的加密，压缩之类的， 用于开发人员

- 会话层

  服务端与客户端建立的会话      cmd命令： netstat -n       netstat -nb  可以用来查木马:开机的时候没开任何应用程序直接运行这个命令，看看有哪些会话:

  <img src="E:\Typora\imgs\image-20200623161820463.png" alt="image-20200623161820463" style="zoom: 80%;" />

- 传输层

  可靠传输（建立会话），  不可靠传输（一般只需要传一个数据包就可以用不可靠的传输；以及广播通信也是不可靠）； 流量控制

- 网络层

  IP地址编址   选择最佳路径

- 数据链路层

  数据如何封装， 添加物理地址 --MAC

- 物理层

  电压，接口标准

**之所以要这样分层，是为了解耦，当一层发生变化的时候，对其它层是透明的，没有影响的。**

分层开发

网络排错     **从底层（物理层）到高层（应用层）**

**几个概念**

<img src="E:\Typora\imgs\image-20200623165732561.png" alt="image-20200623165732561" style="zoom:80%;" />

![image-20200623170349362](E:\Typora\imgs\image-20200623170349362.png)

![image-20200715210100325](E:\Typora\imgs\image-20200715210100325.png)

##### 各层

###### 应用层

​	所有能和用户交互产生流量的程序

###### 表示层<img src="E:\Typora\imgs\image-20200715212947607.png" alt="image-20200715212947607" style="zoom:80%;" />

###### 会话层<img src="E:\Typora\imgs\image-20200715213319269.png" alt="image-20200715213319269" style="zoom:80%;" />

###### 传输层

​	负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据段。

<img src="E:\Typora\imgs\image-20200715213908005.png" alt="image-20200715213908005" style="zoom:80%;" />

###### 网络层

![image-20200715214316023](E:\Typora\imgs\image-20200715214316023.png)

###### 数据链路层

![image-20200715214619654](E:\Typora\imgs\image-20200715214619654.png)

###### 物理层

主要任务是在物理媒体上实现比特流的透明传输。传输单位是bit。

<img src="E:\Typora\imgs\image-20200715215013370.png" alt="image-20200715215013370" style="zoom:80%;" />

## 物理层

#### 物理层的基本概念

![image-20200624094438593](E:\Typora\imgs\image-20200624094438593.png)

#### 有关信道的一些基本概念

信道表示向一个方向传输信息的媒体。平时说的通信线路往往包含一条发送信息的信道和一条接受信息的信道。

- 单向通信（单工通信）

  ​	只能有一个方向的通信而没有反方向的通信（电视天，广播电台）

- 双向交替通信（半双工通信）

  ​	通信的双方都可以发信息，但是双方不能同时发送

- 双通同时通信（全双工通信）

  ​	通信双发可以同时接受和发送信息-

- 信道复用技术

  比如一个20GB带宽的光纤，只用来传输A--B  4Kb带宽的信息就太浪费了，所以许多发送--接收端可以共用这一个信道

  - 频分复用

    ![image-20200624105829670](E:\Typora\imgs\image-20200624105829670.png)

  - 时分复用

    ![image-20200624105725126](E:\Typora\imgs\image-20200624105725126.png)

    ​	想想：如果A， B数据是空的，但是也得留位置给A, B，这样就造成了资源的浪费

  - 码分复用
  
  - 波分复用



## 数据链路层

##### 数据链路的信道类型

![image-20200624134336322](E:\Typora\imgs\image-20200624134336322.png)

##### 链路与数据链路

![image-20200624134418092](E:\Typora\imgs\image-20200624134418092.png)

##### 数据链路层的三个基本问题

###### 封装成帧  

​	就是必须确定一个帧是从哪开始的，从哪结束的。

- 在一段数据的前后分别添加首部和尾部，就构成了一个帧。确定帧的界限。

- 首部和尾部的一个重要作用就是进行帧定界

  ![image-20200624135002540](E:\Typora\imgs\image-20200624135002540.png)

###### 透明传输

- 若传输的数据不是仅有ASCII码中“可打印字符（共95个）”组成时（**即出现了标识数据帧头尾字符的字符时**），会出问题 ：

  ![image-20200624135525022](E:\Typora\imgs\image-20200624135525022.png)

  解决方法：加转义字符或者填充0 ： 字节填充或者零填充

  ![image-20200624135620669](E:\Typora\imgs\image-20200624135620669.png)

###### 差错控制

![image-20200624135730873](E:\Typora\imgs\image-20200624135730873.png)

- 循环冗余检测 CRC

  ![image-20200624135931726](E:\Typora\imgs\image-20200624135931726.png)
  
  循环冗余检测过程
  
  <img src="E:\Typora\imgs\image-20200624140524551.png" alt="image-20200624140524551" style="zoom:80%;" />
  
  ​	即 要传的数从101001000 变为 101001001， 接受方再对传过来的数进行一次除法，如果余数==0，则没问题，不等于0说明传输过程有错，直接丢掉这个帧。
  
  ​	比如 A ----R1 --- R2 --- R3----- > B发送数据，中间经过R1 --R2出现错误了 ， 则R2 是直接丢掉这个帧的，不会要求R1重传，R1发送完之后也只直接丢掉；但是接收端会通知发送端A重新传送，这是A --B两个点实现的可靠（两端的应用程序要求重传？）。
  
  ​	至于除数，后面的位数是多少位，由数据链路层的协议决定，用户不用关心。
  
##### 点对点信道---PPP协议

​	使用的最多的数据链路层协议-- 点对点协议

<img src="E:\Typora\imgs\image-20200624184437261.png" alt="image-20200624184437261" style="zoom:80%;" />

######  PPP协议帧格式

​	![image-20200625104109776](E:\Typora\imgs\image-20200625104109776.png)



##### 数据链路层--以太网特点	

​	以太网使用CSMA/CD协议

![image-20200625205448690](E:\Typora\imgs\image-20200625205448690.png)

​	广播信道的数据链路层  用的**带冲突检测的多点接入技术**

- 冲突检测和避让机制

###### ![image-20200625110421449](E:\Typora\imgs\image-20200625110421449.png)

- 二进制指数类型退避算法

  ![image-20200625110951939](E:\Typora\imgs\image-20200625110951939.png)

###### 以太网数据帧格式<img src="E:\Typora\imgs\image-20200625213805056.png" alt="image-20200625213805056" style="zoom:80%;" />

![image-20200625214201364](E:\Typora\imgs\image-20200625214201364.png)

#####  扩展以太网

- 网桥  网桥接口连集线器 （用的很少了，降低冲突域的范围）

- 交换机   是一种多接口网桥，直接连计算机， 安全，效率高，可以收发端可以全双工通信。

  交换机的接口有存储和转发的功能， 传送信息的时候按先后顺序可以进行排队

###### LAN 和 VLAN

- LAN 局域网

- VLAN 虚拟局域网      其实就是“逻辑上的局域网” 

  <img src="E:\Typora\imgs\image-20200625223640731.png" alt="image-20200625223640731" style="zoom:67%;" />

  不同VLAN之间想要通信需要通过路由器或者三层交换机实现

  

  ![image-20200625223457526](E:\Typora\imgs\image-20200625223457526.png)

  其中**干道链路**用的**统计时分复用**技术  ,可以数据帧格式中插入一个VLAN标记（比如ID）

  ###### VLAN数据帧格式

  ![image-20200625224103027](E:\Typora\imgs\image-20200625224103027.png)

  

















































