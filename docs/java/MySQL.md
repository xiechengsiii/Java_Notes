# MySQL Notes

## MySQL的IO行为

 1. ``innodb_flush_log_at_trx_commit``

    0  日志缓冲写到之日志文件，每秒刷新一次 ， 但是事物提交时不做任何事

    1  ``日志缓冲写到日志文件``，并且每次事物提交时都刷新到持久化存储（innodb默认）

    2 每次提交任务时，``把日志缓冲写到日志文``，但是并不刷新， 每秒做一次刷新

    注意``将日志缓冲写到日志文件``和``将日志持久化存储``是不同的， 前者只是将innodb的内存缓存转移到操作系统的缓存，并没有做到真正的持久化存储

    ![image-20200520100641550](C:\Users\XXX\AppData\Roaming\Typora\typora-user-images\image-20200520100641550.png)

​	``0_DIRECT`` 

​	可以使OS不要缓存数据，也不做预读，这个选项完全关闭了操作系统缓存，使所有读写都直接通过

存储设备，避免双重缓冲	

2.





​	
